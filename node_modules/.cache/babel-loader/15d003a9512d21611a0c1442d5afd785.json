{"ast":null,"code":"import Axios from 'axios';\nexport const REGISTER_START = 'REGISTER_START';\nexport const REGISTER_SUCCESS = 'REGISTER_SUCCESS';\nexport const REGISTER_FAILURE = 'REGISTER_FAILURE';\nexport const register = newUser => dispatch => {\n  console.log(newUser);\n  dispatch({\n    type: REGISTER_START\n  });\n  return Axios.post('https://coordinated-stories.herokuapp.com/api/auth/register', newUser).then(res => {\n    console.dir(res);\n    localStorage.setItem('token', res.data.token);\n    localStorage.setItem('id', res.data.id);\n    dispatch({\n      type: REGISTER_SUCCESS,\n      message: res.data.message,\n      status: res.status,\n      token: res.data.token,\n      currentUser: newUser.username\n    });\n    return true;\n  }).catch(err => {\n    console.dir(err);\n    dispatch({\n      type: REGISTER_FAILURE,\n      message: err.message,\n      error: err.response ? err.response.data.error : 'unknown error, please try again',\n      status: err.response ? err.response.status : 'unknown status',\n      currentUser: null\n    });\n  });\n};","map":{"version":3,"sources":["/Users/sallysal/Documents/lambda/buildweek4/actualfactualbuildweek/Front-End/coordinated-story-telling/src/actions/register.js"],"names":["Axios","REGISTER_START","REGISTER_SUCCESS","REGISTER_FAILURE","register","newUser","dispatch","console","log","type","post","then","res","dir","localStorage","setItem","data","token","id","message","status","currentUser","username","catch","err","error","response"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,MAAMC,cAAc,GAAG,gBAAvB;AACP,OAAO,MAAMC,gBAAgB,GAAG,kBAAzB;AACP,OAAO,MAAMC,gBAAgB,GAAG,kBAAzB;AAEP,OAAO,MAAMC,QAAQ,GAAGC,OAAO,IAAIC,QAAQ,IAAI;AAC3CC,EAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ;AACAC,EAAAA,QAAQ,CAAC;AACLG,IAAAA,IAAI,EAAER;AADD,GAAD,CAAR;AAGA,SAAOD,KAAK,CACXU,IADM,CACD,6DADC,EAC8DL,OAD9D,EAENM,IAFM,CAEDC,GAAG,IAAI;AACTL,IAAAA,OAAO,CAACM,GAAR,CAAYD,GAAZ;AACAE,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,GAAG,CAACI,IAAJ,CAASC,KAAvC;AACAH,IAAAA,YAAY,CAACC,OAAb,CAAqB,IAArB,EAA2BH,GAAG,CAACI,IAAJ,CAASE,EAApC;AACAZ,IAAAA,QAAQ,CAAC;AACLG,MAAAA,IAAI,EAAEP,gBADD;AAELiB,MAAAA,OAAO,EAAEP,GAAG,CAACI,IAAJ,CAASG,OAFb;AAGLC,MAAAA,MAAM,EAAER,GAAG,CAACQ,MAHP;AAILH,MAAAA,KAAK,EAAEL,GAAG,CAACI,IAAJ,CAASC,KAJX;AAKLI,MAAAA,WAAW,EAAEhB,OAAO,CAACiB;AALhB,KAAD,CAAR;AAOA,WAAO,IAAP;AACH,GAdM,EAeNC,KAfM,CAeAC,GAAG,IAAI;AACVjB,IAAAA,OAAO,CAACM,GAAR,CAAYW,GAAZ;AACAlB,IAAAA,QAAQ,CAAC;AACLG,MAAAA,IAAI,EAAEN,gBADD;AAELgB,MAAAA,OAAO,EAAEK,GAAG,CAACL,OAFR;AAGLM,MAAAA,KAAK,EAAED,GAAG,CAACE,QAAJ,GAAeF,GAAG,CAACE,QAAJ,CAAaV,IAAb,CAAkBS,KAAjC,GAAyC,iCAH3C;AAILL,MAAAA,MAAM,EAAEI,GAAG,CAACE,QAAJ,GAAeF,GAAG,CAACE,QAAJ,CAAaN,MAA5B,GAAqC,gBAJxC;AAKLC,MAAAA,WAAW,EAAE;AALR,KAAD,CAAR;AAOH,GAxBM,CAAP;AAyBH,CA9BM","sourcesContent":["import Axios from 'axios'\nexport const REGISTER_START = 'REGISTER_START'\nexport const REGISTER_SUCCESS = 'REGISTER_SUCCESS'\nexport const REGISTER_FAILURE = 'REGISTER_FAILURE'\n\nexport const register = newUser => dispatch => {\n    console.log(newUser)\n    dispatch({\n        type: REGISTER_START\n    });\n    return Axios\n    .post('https://coordinated-stories.herokuapp.com/api/auth/register', newUser)\n    .then(res => {\n        console.dir(res)\n        localStorage.setItem('token', res.data.token);\n        localStorage.setItem('id', res.data.id);\n        dispatch({\n            type: REGISTER_SUCCESS,\n            message: res.data.message,\n            status: res.status,\n            token: res.data.token,\n            currentUser: newUser.username\n        })\n        return true\n    })\n    .catch(err => {\n        console.dir(err)\n        dispatch({\n            type: REGISTER_FAILURE,\n            message: err.message,\n            error: err.response ? err.response.data.error : 'unknown error, please try again',\n            status: err.response ? err.response.status : 'unknown status',\n            currentUser: null\n        })\n    })\n} "]},"metadata":{},"sourceType":"module"}