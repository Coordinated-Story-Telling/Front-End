{"ast":null,"code":"import Axios from 'axios';\nexport const LOGIN_START = 'LOGIN_START';\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAILURE = 'LOGIN_FAILURE';\nexport const LOGOUT = 'LOGOUT';\nexport const login = user => dispatch => {\n  // console.log(newUser)\n  dispatch({\n    type: LOGIN_START\n  });\n  return Axios.post('https://coordinated-stories.herokuapp.com/api/auth/login', user).then(res => {\n    // console.dir(res)\n    localStorage.setItem('token', res.data.token);\n    localStorage.setItem('id', res.data.id);\n    dispatch({\n      type: LOGIN_SUCCESS,\n      message: res.data.message,\n      status: res.status,\n      token: res.data.token,\n      user: user\n    });\n  }).catch(err => {\n    console.dir(err);\n    dispatch({\n      type: LOGIN_FAILURE,\n      message: err.message,\n      error: err.response ? err.response.data.error : 'unknown error, please try again',\n      status: err.response ? err.response.status : 'unknown status'\n    });\n  });\n};\nexport const signOut = () => dispatch => {\n  // console.log(newUser)\n  localStorage.clear();\n  dispatch({\n    type: LOGOUT\n  });\n};","map":{"version":3,"sources":["/Users/sallysal/Documents/lambda/buildweek4/actualfactualbuildweek/Front-End/coordinated-story-telling/src/actions/login.js"],"names":["Axios","LOGIN_START","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","login","user","dispatch","type","post","then","res","localStorage","setItem","data","token","id","message","status","catch","err","console","dir","error","response","signOut","clear"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,MAAMC,WAAW,GAAG,aAApB;AACP,OAAO,MAAMC,aAAa,GAAG,eAAtB;AACP,OAAO,MAAMC,aAAa,GAAG,eAAtB;AACP,OAAO,MAAMC,MAAM,GAAG,QAAf;AAEP,OAAO,MAAMC,KAAK,GAAGC,IAAI,IAAIC,QAAQ,IAAI;AACrC;AACAA,EAAAA,QAAQ,CAAC;AACLC,IAAAA,IAAI,EAAEP;AADD,GAAD,CAAR;AAIA,SAAOD,KAAK,CAACS,IAAN,CAAW,0DAAX,EAAuEH,IAAvE,EACNI,IADM,CACDC,GAAG,IAAI;AACT;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,GAAG,CAACG,IAAJ,CAASC,KAAvC;AACAH,IAAAA,YAAY,CAACC,OAAb,CAAqB,IAArB,EAA2BF,GAAG,CAACG,IAAJ,CAASE,EAApC;AACAT,IAAAA,QAAQ,CAAC;AACLC,MAAAA,IAAI,EAAEN,aADD;AAELe,MAAAA,OAAO,EAAEN,GAAG,CAACG,IAAJ,CAASG,OAFb;AAGLC,MAAAA,MAAM,EAAEP,GAAG,CAACO,MAHP;AAILH,MAAAA,KAAK,EAAEJ,GAAG,CAACG,IAAJ,CAASC,KAJX;AAKLT,MAAAA,IAAI,EAAEA;AALD,KAAD,CAAR;AAOH,GAZM,EAaNa,KAbM,CAaAC,GAAG,IAAI;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAEAb,IAAAA,QAAQ,CAAC;AACLC,MAAAA,IAAI,EAAEL,aADD;AAELc,MAAAA,OAAO,EAAEG,GAAG,CAACH,OAFR;AAGLM,MAAAA,KAAK,EAAEH,GAAG,CAACI,QAAJ,GAAeJ,GAAG,CAACI,QAAJ,CAAaV,IAAb,CAAkBS,KAAjC,GAAyC,iCAH3C;AAILL,MAAAA,MAAM,EAAEE,GAAG,CAACI,QAAJ,GAAeJ,GAAG,CAACI,QAAJ,CAAaN,MAA5B,GAAqC;AAJxC,KAAD,CAAR;AAMH,GAtBM,CAAP;AAuBH,CA7BM;AA+BP,OAAO,MAAMO,OAAO,GAAG,MAAMlB,QAAQ,IAAI;AACrC;AACAK,EAAAA,YAAY,CAACc,KAAb;AACAnB,EAAAA,QAAQ,CAAC;AACLC,IAAAA,IAAI,EAAEJ;AADD,GAAD,CAAR;AAGH,CANM","sourcesContent":["import Axios from 'axios'\nexport const LOGIN_START = 'LOGIN_START'\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS'\nexport const LOGIN_FAILURE = 'LOGIN_FAILURE'\nexport const LOGOUT = 'LOGOUT'\n\nexport const login = user => dispatch => {\n    // console.log(newUser)\n    dispatch({\n        type: LOGIN_START\n    });\n    \n    return Axios.post('https://coordinated-stories.herokuapp.com/api/auth/login', user)\n    .then(res => {\n        // console.dir(res)\n        localStorage.setItem('token', res.data.token);\n        localStorage.setItem('id', res.data.id);\n        dispatch({\n            type: LOGIN_SUCCESS,\n            message: res.data.message,\n            status: res.status,\n            token: res.data.token,\n            user: user\n        })\n    })\n    .catch(err => {\n        console.dir(err)\n        \n        dispatch({\n            type: LOGIN_FAILURE,\n            message: err.message,\n            error: err.response ? err.response.data.error : 'unknown error, please try again',\n            status: err.response ? err.response.status : 'unknown status'\n        })\n    })\n} \n\nexport const signOut = () => dispatch => {\n    // console.log(newUser)\n    localStorage.clear();\n    dispatch({\n        type: LOGOUT\n    })\n}"]},"metadata":{},"sourceType":"module"}