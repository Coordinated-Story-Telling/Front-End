{"ast":null,"code":"var _jsxFileName = \"/Users/sallysal/Documents/lambda/buildweek4/actualfactualbuildweek/Front-End/coordinated-story-telling/src/components/MyStory.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { getUserStories, postUserStories, deleteUserStories, putUserStories } from '../actions/userStories';\nimport { NavLink } from 'react-router-dom';\nimport './styles/MyStory.css';\n\nclass MyStory extends React.Component {\n  constructor() {\n    super();\n\n    this.editingStory = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n      console.dir(this.state);\n    };\n\n    this.createStory = event => {\n      event.preventDefault();\n      this.props.postUserStories({\n        user_id: 12,\n        title: this.state.title,\n        description: this.state.description,\n        country_id: 8\n      }).then(success => {\n        if (success) this.setState({\n          country_id: 'Bolivia',\n          description: '',\n          title: ''\n        });\n      });\n    };\n\n    this.saveStory = event => {\n      event.preventDefault();\n\n      if (this.state.storyId) {\n        this.props.putUserStories(this.state.storyId, {\n          // ...this.state.selectedStory,\n          title: this.state.title,\n          description: this.state.description,\n          country: this.state.selectedCountry\n        }).then(success => {\n          if (success) this.clearForm();\n          this.props.getUserStories();\n        });\n      } else {\n        this.props.postUserStories({\n          title: this.state.title,\n          description: this.state.description,\n          country: this.state.selectedCountry\n        }).then(success => {\n          if (success) this.clearForm();\n        });\n      }\n    };\n\n    this.editStory = storyId => {\n      // event.preventDefault()\n      // console.log(storyId)\n      const selectedStory = this.props.myStories.filter(story => story.id === storyId)[0];\n      this.setState({\n        // selectedStory: selectedStory,\n        storyId: storyId,\n        selectedCountry: selectedStory.country,\n        title: selectedStory.title,\n        description: selectedStory.description\n      }); // console.dir(selectedStory)\n    };\n\n    this.clearForm = event => {\n      if (event) event.preventDefault();\n      this.setState({\n        storyId: null,\n        selectedCountry: 'Bolivia',\n        description: '',\n        title: ''\n      });\n    };\n\n    this.render = props => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"story-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"create & edit your story here\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Title\",\n        minLength: \"3\",\n        required: true,\n        value: this.state.title,\n        onChange: this.editingStory,\n        name: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), React.createElement(\"select\", {\n        onChange: this.editingStory,\n        value: this.state.selectedCountry,\n        placeholder: \"Select a Country\",\n        name: \"selectedCountry\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, this.state.countries.map(country => React.createElement(\"option\", {\n        key: country,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, country)))), React.createElement(\"textarea\", {\n        type: \"text\",\n        placeholder: \"description\",\n        minLength: \"3\",\n        required: true,\n        value: this.state.description,\n        onChange: this.editingStory,\n        name: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.saveStory,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Save\"), React.createElement(\"button\", {\n        onClick: this.clearForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"Clear\"))), React.createElement(\"ul\", {\n        className: \"stories-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"hello darkness my old friend\")));\n    };\n\n    this.state = {\n      user: {} // Stories: [],\n      // storyId: null,\n      // selectedStory: null,\n      // selectedCountry: 'Bolivia',\n      // description: '',\n      // title: '',\n      // countries: [\"Bolivia\", \"Brazil\", \"Cambodia\", \"Colombia\", \"Ecuador\", \"El Salvador\", \"Ghana\", \"Guatemala\", \"Haiti\", \"Honduras\", \"Kiribati\", \"Madagascar\", \"Mongolia\", \"Nicaragua\", \"Paraguay\", \"Peru\", \"Philippines\", \"Sierra Leone\", \"Zimbabwe\"],\n\n    };\n  }\n\n  componentDidMount() {\n    this.props.getUserStories();\n  }\n\n}\n\nconst mapStatetoProps = state => {\n  console.log(state);\n  return {\n    myStories: state.userStory.myStories\n  };\n};\n\nexport default connect(mapStatetoProps, {\n  getUserStories,\n  postUserStories,\n  deleteUserStories,\n  putUserStories\n})(MyStory);","map":{"version":3,"sources":["/Users/sallysal/Documents/lambda/buildweek4/actualfactualbuildweek/Front-End/coordinated-story-telling/src/components/MyStory.js"],"names":["React","connect","getUserStories","postUserStories","deleteUserStories","putUserStories","NavLink","MyStory","Component","constructor","editingStory","event","setState","target","name","value","console","dir","state","createStory","preventDefault","props","user_id","title","description","country_id","then","success","saveStory","storyId","country","selectedCountry","clearForm","editStory","selectedStory","myStories","filter","story","id","render","countries","map","user","componentDidMount","mapStatetoProps","log","userStory"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport { getUserStories, postUserStories, deleteUserStories, putUserStories } from '../actions/userStories'\nimport { NavLink } from 'react-router-dom'\nimport './styles/MyStory.css'\n\nclass MyStory extends React.Component {\n    constructor() {\n        super()\n        this.state = {\n            user:{},\n\n            // Stories: [],\n            // storyId: null,\n            // selectedStory: null,\n            // selectedCountry: 'Bolivia',\n            // description: '',\n            // title: '',\n            // countries: [\"Bolivia\", \"Brazil\", \"Cambodia\", \"Colombia\", \"Ecuador\", \"El Salvador\", \"Ghana\", \"Guatemala\", \"Haiti\", \"Honduras\", \"Kiribati\", \"Madagascar\", \"Mongolia\", \"Nicaragua\", \"Paraguay\", \"Peru\", \"Philippines\", \"Sierra Leone\", \"Zimbabwe\"],\n        }\n    }\n    \n    componentDidMount() {\n        this.props.getUserStories()\n    }\n    editingStory = event => {\n        this.setState({\n            [event.target.name]:event.target.value\n        })\n        console.dir(this.state)\n    }\n\n    createStory = event => {\n        event.preventDefault()\n\n        this.props.postUserStories({\n            user_id:12,\n            title: this.state.title,\n            description: this.state.description,\n            country_id: 8\n        }).then(success => {\n            \n            if (success) this.setState({\n                \n                country_id: 'Bolivia',\n                description: '',\n                title: '',\n            })}\n        )\n\n    }\n\n    saveStory = event => {\n        event.preventDefault()\n\n        if (this.state.storyId) {\n            this.props.putUserStories(\n\n                this.state.storyId, {\n                    // ...this.state.selectedStory,\n                    title: this.state.title,\n                    description: this.state.description,\n                    country: this.state.selectedCountry\n                }\n            ).then(success => {\n                \n                if (success) this.clearForm()\n                this.props.getUserStories()\n            })\n        } else {\n            \n            this.props.postUserStories({\n                title: this.state.title,\n                description: this.state.description,\n                country: this.state.selectedCountry\n            }).then(success => {\n                \n                if (success) this.clearForm()\n\n            })\n        }\n    }\n\n    editStory = storyId => {\n        // event.preventDefault()\n        // console.log(storyId)\n        const selectedStory = this.props.myStories.filter(story => story.id === storyId)[0]\n\n        this.setState({\n            // selectedStory: selectedStory,\n            storyId: storyId,\n            selectedCountry: selectedStory.country,\n            title: selectedStory.title,\n            description: selectedStory.description\n        })\n        // console.dir(selectedStory)\n    }\n\n    clearForm = event => {\n        if (event) event.preventDefault()\n        this.setState({\n            storyId: null,                    \n            selectedCountry: 'Bolivia',\n            description: '',\n            title: '',\n        })\n    }\n    render = props => {\n        return (\n            <div>\n                <form className=\"story-form\">\n                    <h5>create & edit your story here</h5>\n\n                    <span>\n                        <input \n                            type='text'\n                            placeholder='Title'\n                            minLength='3' \n                            required\n                            value={this.state.title}\n                            onChange={this.editingStory}\n                            name='title'\n                        />           \n\n                        <select \n                            onChange={this.editingStory}\n                            value={this.state.selectedCountry}\n                            placeholder=\"Select a Country\"\n                            name='selectedCountry'\n                        >\n                            {this.state.countries.map(country => <option key={country}>{country}</option>)}\n                        </select>\n                    </span>                   \n\n\n                    <textarea\n                        type='text'\n                        placeholder='description'\n                        minLength='3' \n                        required\n                        value={this.state.description}\n                        onChange={this.editingStory}\n                        name='description'\n                    >\n\n                    </textarea>\n                    <span>\n\n                        <button onClick={this.saveStory}>Save</button>\n                        <button onClick={this.clearForm}>Clear</button>\n\n                    </span>\n                </form>\n                <ul className='stories-list'>\n               <li>hello darkness my old friend</li>\n                {/* {\n                    this.props.user.map((story, index) => (\n                        <li className='story-preview' key={story.id}>\n                            <h3>{story.title}</h3>\n                            <p>{story.description}</p>\n                            <NavLink to={`/stories/${story.id}`}>Continue Reading</NavLink>\n                            <NavLink to={`/stories/${story.id}/edit`}> Edit</NavLink>\n                            <button onClick={() => this.editStory(story.id)}>Edit</button>\n                            <button onClick={() => this.props.deleteUserStories(index, story.id)}>Remove</button>\n                        </li>\n                    ))\n                } */}\n                </ul>\n            </div>\n        )\n    }\n} \n\n\nconst mapStatetoProps = state => {\n    console.log(state)\n    return {\n        myStories: state.userStory.myStories,\n    }\n} \n  \nexport default connect(mapStatetoProps, { getUserStories, postUserStories, deleteUserStories, putUserStories })(MyStory)\n  \n\n"]},"metadata":{},"sourceType":"module"}