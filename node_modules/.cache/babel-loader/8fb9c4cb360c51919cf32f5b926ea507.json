{"ast":null,"code":"import _defineProperty from \"/Users/sallysal/Documents/lambda/buildweek4/actualfactualbuildweek/Front-End/coordinated-story-telling/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/sallysal/Documents/lambda/buildweek4/actualfactualbuildweek/Front-End/coordinated-story-telling/src/components/MyStory.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { getUser, postUserStories, deleteUserStories, putUserStories } from '../actions/userStories';\nimport { NavLink } from 'react-router-dom';\nimport './styles/MyStory.css';\nimport axiousAuth from '../utils/axiousAuth';\n\nclass MyStory extends React.Component {\n  constructor() {\n    super();\n\n    this.editingStory = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n      console.dir(this.state);\n    };\n\n    this.createStory = event => {\n      event.preventDefault();\n      this.props.postUserStories({\n        user_id: 12,\n        title: this.state.title,\n        description: this.state.description,\n        country_id: 8\n      }).then(success => {\n        if (success) axiousAuth.get(\"https://coordinated-stories.herokuapp.com/api/users/12\").then(res => {\n          this.setState(_objectSpread({}, this.state.user));\n        });\n      });\n    };\n\n    this.saveStory = event => {\n      event.preventDefault();\n\n      if (this.state.storyId) {\n        this.props.putUserStories(this.state.storyId, {\n          // ...this.state.selectedStory,\n          title: this.state.title,\n          description: this.state.description,\n          country: this.state.selectedCountry\n        }).then(success => {\n          if (success) this.clearForm();\n          this.props.getUserStories();\n        });\n      } else {\n        this.props.postUserStories({\n          title: this.state.title,\n          description: this.state.description,\n          country: this.state.selectedCountry\n        }).then(success => {\n          if (success) this.clearForm();\n        });\n      }\n    };\n\n    this.editStory = storyId => {\n      // event.preventDefault()\n      // console.log(storyId)\n      const selectedStory = this.props.myStories.filter(story => story.id === storyId)[0];\n      this.setState({\n        // selectedStory: selectedStory,\n        storyId: storyId,\n        selectedCountry: selectedStory.country,\n        title: selectedStory.title,\n        description: selectedStory.description\n      }); // console.dir(selectedStory)\n    };\n\n    this.clearForm = event => {\n      if (event) event.preventDefault();\n      this.setState({\n        storyId: null,\n        selectedCountry: 'Bolivia',\n        description: '',\n        title: ''\n      });\n    };\n\n    this.render = props => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"story-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"create & edit your story here\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Title\",\n        minLength: \"3\",\n        required: true,\n        value: this.state.title,\n        onChange: this.editingStory,\n        name: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      })), React.createElement(\"textarea\", {\n        type: \"text\",\n        placeholder: \"description\",\n        minLength: \"3\",\n        required: true,\n        value: this.state.description,\n        onChange: this.editingStory,\n        name: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.saveStory,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, \"Save\"), React.createElement(\"button\", {\n        onClick: this.clearForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Clear\"))), React.createElement(\"ul\", {\n        className: \"stories-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"hello darkness my old friend\"), this.props.user.stories.map((story, index) => React.createElement(\"li\", {\n        className: \"story-preview\",\n        key: story.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, story.title), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, story.description), React.createElement(NavLink, {\n        to: \"/stories/\".concat(story.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"Continue Reading\"), React.createElement(NavLink, {\n        to: \"/stories/\".concat(story.id, \"/edit\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \" Edit\"), React.createElement(\"button\", {\n        onClick: () => this.editStory(story.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, \"Edit\"), React.createElement(\"button\", {\n        onClick: () => this.props.deleteUserStories(index, story.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"Remove\")))));\n    };\n\n    this.state = {\n      user: {} // Stories: [],\n      // storyId: null,\n      // selectedStory: null,\n      // selectedCountry: 'Bolivia',\n      // description: '',\n      // title: '',\n      // countries: [\"Bolivia\", \"Brazil\", \"Cambodia\", \"Colombia\", \"Ecuador\", \"El Salvador\", \"Ghana\", \"Guatemala\", \"Haiti\", \"Honduras\", \"Kiribati\", \"Madagascar\", \"Mongolia\", \"Nicaragua\", \"Paraguay\", \"Peru\", \"Philippines\", \"Sierra Leone\", \"Zimbabwe\"],\n\n    };\n  }\n\n  componentDidMount() {\n    this.props.getUser();\n  }\n\n}\n\nconst mapStatetoProps = state => {\n  console.log(state);\n  return {\n    myStories: state.userStory.myStories\n  };\n};\n\nexport default connect(mapStatetoProps, {\n  getUser,\n  postUserStories,\n  deleteUserStories,\n  putUserStories\n})(MyStory);","map":{"version":3,"sources":["/Users/sallysal/Documents/lambda/buildweek4/actualfactualbuildweek/Front-End/coordinated-story-telling/src/components/MyStory.js"],"names":["React","connect","getUser","postUserStories","deleteUserStories","putUserStories","NavLink","axiousAuth","MyStory","Component","constructor","editingStory","event","setState","target","name","value","console","dir","state","createStory","preventDefault","props","user_id","title","description","country_id","then","success","get","res","user","saveStory","storyId","country","selectedCountry","clearForm","getUserStories","editStory","selectedStory","myStories","filter","story","id","render","stories","map","index","componentDidMount","mapStatetoProps","log","userStory"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport { getUser, postUserStories, deleteUserStories, putUserStories } from '../actions/userStories'\nimport { NavLink } from 'react-router-dom'\nimport './styles/MyStory.css'\nimport axiousAuth from '../utils/axiousAuth'\n\nclass MyStory extends React.Component {\n    constructor() {\n        super()\n        this.state = {\n            user:{},\n\n            // Stories: [],\n            // storyId: null,\n            // selectedStory: null,\n            // selectedCountry: 'Bolivia',\n            // description: '',\n            // title: '',\n            // countries: [\"Bolivia\", \"Brazil\", \"Cambodia\", \"Colombia\", \"Ecuador\", \"El Salvador\", \"Ghana\", \"Guatemala\", \"Haiti\", \"Honduras\", \"Kiribati\", \"Madagascar\", \"Mongolia\", \"Nicaragua\", \"Paraguay\", \"Peru\", \"Philippines\", \"Sierra Leone\", \"Zimbabwe\"],\n        }\n    }\n    \n    componentDidMount() {\n        this.props.getUser()\n    }\n    editingStory = event => {\n        this.setState({\n            [event.target.name]:event.target.value\n        })\n        console.dir(this.state)\n    }\n\n    createStory = event => {\n        event.preventDefault()\n\n        this.props.postUserStories({\n            user_id:12,\n            title: this.state.title,\n            description: this.state.description,\n            country_id: 8\n        }).then(success => {\n            \n            if (success) \n            axiousAuth\n            .get(`https://coordinated-stories.herokuapp.com/api/users/12`)\n            .then( res => {\n                this.setState({...this.state.user})\n            })\n        }\n        )\n\n    }\n\n    saveStory = event => {\n        event.preventDefault()\n\n        if (this.state.storyId) {\n            this.props.putUserStories(\n\n                this.state.storyId, {\n                    // ...this.state.selectedStory,\n                    title: this.state.title,\n                    description: this.state.description,\n                    country: this.state.selectedCountry\n                }\n            ).then(success => {\n                \n                if (success) this.clearForm()\n                this.props.getUserStories()\n            })\n        } else {\n            \n            this.props.postUserStories({\n                title: this.state.title,\n                description: this.state.description,\n                country: this.state.selectedCountry\n            }).then(success => {\n                \n                if (success) this.clearForm()\n\n            })\n        }\n    }\n\n    editStory = storyId => {\n        // event.preventDefault()\n        // console.log(storyId)\n        const selectedStory = this.props.myStories.filter(story => story.id === storyId)[0]\n\n        this.setState({\n            // selectedStory: selectedStory,\n            storyId: storyId,\n            selectedCountry: selectedStory.country,\n            title: selectedStory.title,\n            description: selectedStory.description\n        })\n        // console.dir(selectedStory)\n    }\n\n    clearForm = event => {\n        if (event) event.preventDefault()\n        this.setState({\n            storyId: null,                    \n            selectedCountry: 'Bolivia',\n            description: '',\n            title: '',\n        })\n    }\n    render = props => {\n        return (\n            <div>\n                <form className=\"story-form\">\n                    <h5>create & edit your story here</h5>\n\n                    <span>\n                        <input \n                            type='text'\n                            placeholder='Title'\n                            minLength='3' \n                            required\n                            value={this.state.title}\n                            onChange={this.editingStory}\n                            name='title'\n                        />           \n\n                        {/* <select \n                            onChange={this.editingStory}\n                            value={this.state.selectedCountry}\n                            placeholder=\"Select a Country\"\n                            name='selectedCountry'\n                        >\n                            {this.state.countries.map(country => <option key={country}>{country}</option>)}\n                        </select> */}\n                    </span>                   \n\n\n                    <textarea\n                        type='text'\n                        placeholder='description'\n                        minLength='3' \n                        required\n                        value={this.state.description}\n                        onChange={this.editingStory}\n                        name='description'\n                    >\n\n                    </textarea>\n                    <span>\n\n                        <button onClick={this.saveStory}>Save</button>\n                        <button onClick={this.clearForm}>Clear</button>\n\n                    </span>\n                </form>\n                <ul className='stories-list'>\n               <li>hello darkness my old friend</li>\n                {\n                    this.props.user.stories.map((story, index) => (\n                        <li className='story-preview' key={story.id}>\n                            <h3>{story.title}</h3>\n                            <p>{story.description}</p>\n                            <NavLink to={`/stories/${story.id}`}>Continue Reading</NavLink>\n                            <NavLink to={`/stories/${story.id}/edit`}> Edit</NavLink>\n                            <button onClick={() => this.editStory(story.id)}>Edit</button>\n                            <button onClick={() => this.props.deleteUserStories(index, story.id)}>Remove</button>\n                        </li>\n                    ))\n                }\n                </ul>\n            </div>\n        )\n    }\n} \n\n\nconst mapStatetoProps = state => {\n    console.log(state)\n    return {\n        myStories: state.userStory.myStories,\n    }\n} \n  \nexport default connect(mapStatetoProps, { getUser, postUserStories, deleteUserStories, putUserStories })(MyStory)\n  \n\n"]},"metadata":{},"sourceType":"module"}